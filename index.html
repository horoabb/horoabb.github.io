<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>抽獎直播頁面</title>
<style>
  /* 您提供的樣式保持不變 */
  body { font-family: Arial, sans-serif; }
  .container { display: flex; }
  .buttons-container { flex: 1; padding: 20px; text-align: left; }
  .content-container { flex: 4; }
  .live-stream { margin-top: 20px; width: 100%; }
  .live-stream iframe { width: 100%; height: 800px; }
  button { padding: 50px 20px; font-size: 20px; margin-bottom: 50px; width: 100%; }
  .lottery-info {
    margin-top: 20px;
    padding: 20px;
    font-size: 20px;
    line-height: 1.8;
  }
</style>
</head>
<body>
<div class="container">
  <div class="buttons-container">
    <button onclick="switchStream('jessie')">Jessie</button>
    <button onclick="switchStream('lala')">Lala</button>
  </div>
  <div class="content-container">
    <div class="live-stream" id="liveStream">
      <!-- YouTube 直播佔位符 -->
    </div>
    <div class="lottery-info" id="lotteryInfo">
      <!-- 抽獎信息將在這裡顯示 -->
    </div>
  </div>
</div>

<script>
function switchStream(streamName) {
  var liveStream = document.getElementById('liveStream');
  var streamId = streamName === 'jessie' ? 'LIVE_STREAM_ID_1' : 'LIVE_STREAM_ID_2';
  liveStream.innerHTML = '<iframe src="https://www.youtube.com/embed/' + streamId + 
                         '" frameborder="0" allowfullscreen></iframe>';
  currentStream = streamName;
  getLotteryInfo(streamName);
}

function getLotteryInfo(streamName) {
  var xhr = new XMLHttpRequest();
  xhr.open('GET', '/lottery-info?stream=' + streamName, true);
  xhr.onload = function() {
    if (this.status === 200) {
      var response = JSON.parse(this.responseText);
      updateLotteryInfo(response.participantNumber, response.participantName, response.winnerNumber, response.winnerName);
    } else {
      console.error('Error fetching lottery info');
    }
  };
  xhr.send();
}

function updateLotteryInfo(participantNumber, participantName, winnerNumber, winnerName) {
  var lotteryInfo = document.getElementById('lotteryInfo');
  lotteryInfo.innerHTML = '<p>抽獎號碼: ' + participantNumber + '</p>' +
                          '<p>抽獎名子: ' + participantName + '</p>' +
                          '<p>中獎號碼: ' + winnerNumber + '</p>' +
                          '<p>送禮名子: ' + winnerName + '</p>';
}

// 初始化直播流
switchStream('jessie');
</script>
</body>
</html>
